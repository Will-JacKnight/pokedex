{"ast":null,"code":"import{useEffect,useState}from'react';import titleImg from'../images/pokemon_logo.png';import accoutImg from'../images/login-logout.jpg';import PokemonCard from'../components/PokemonCard';import{Link,useNavigate,useLocation}from'react-router-dom';import SearchBar from'../components/SearchBar';import Sidebar from'../components/Sidebar';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_BASE_URL||'http://localhost:5000';console.log(API_BASE_URL);function Home(){const[data,setData]=useState([]);const navigate=useNavigate();useEffect(()=>{// Fetch data from Flask API using fetch\nif(sessionStorage.getItem('pokemons')){setData(JSON.parse(sessionStorage.getItem('pokemons')));}else{fetch(`${API_BASE_URL}/api/pokemons`).then(response=>{if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(rec_data=>{let arrData=Object.values(rec_data);setData(Object.values(arrData));// convert dictionary to array and store in data state\nsessionStorage.setItem('pokemons',JSON.stringify(arrData));}).catch(error=>console.error('Error fetching data:',error));}},[]);function handleAccountClick(){if(!sessionStorage.getItem('access_token')){navigate('/login');}else{alert(\"You have been logged out successfully!\");sessionStorage.removeItem('access_token');navigate('/');}}console.log(data);const pokemonEl=data===null||data===void 0?void 0:data.map((pokemon,index)=>{return(/*#__PURE__*/// <Link key={index} to={`/details/${pokemon.name}`}>\n_jsx(PokemonCard,{pokemon:pokemon,index:index})// </Link>\n);});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(SearchBar,{}),/*#__PURE__*/_jsx(\"img\",{src:titleImg,alt:\"title\",className:\"title-img\"}),/*#__PURE__*/_jsx(\"img\",{src:accoutImg,alt:\"title\",className:\"accout-img\",onClick:handleAccountClick}),/*#__PURE__*/_jsx(\"div\",{className:\"pokemon-poster-list\",children:pokemonEl})]})});}export default Home;","map":{"version":3,"names":["useEffect","useState","titleImg","accoutImg","PokemonCard","Link","useNavigate","useLocation","SearchBar","Sidebar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","console","log","Home","data","setData","navigate","sessionStorage","getItem","JSON","parse","fetch","then","response","ok","Error","json","rec_data","arrData","Object","values","setItem","stringify","catch","error","handleAccountClick","alert","removeItem","pokemonEl","map","pokemon","index","children","className","src","alt","onClick"],"sources":["C:/Users/Kumar/Desktop/SSE_POKEMON/pokedex/frontend-app/src/pages/home.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport titleImg from '../images/pokemon_logo.png';\r\nimport accoutImg from '../images/login-logout.jpg';\r\nimport PokemonCard from '../components/PokemonCard';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport SearchBar from '../components/SearchBar';\r\nimport Sidebar from '../components/Sidebar';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000';\r\nconsole.log(API_BASE_URL);\r\n\r\n\r\nfunction Home() {\r\n  const [data, setData] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // Fetch data from Flask API using fetch\r\n    if (sessionStorage.getItem('pokemons')) {\r\n      setData(JSON.parse(sessionStorage.getItem('pokemons')));\r\n    }\r\n    else {\r\n      fetch(`${API_BASE_URL}/api/pokemons`)\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n        return response.json();\r\n      })\r\n      .then(rec_data => {\r\n        let arrData = Object.values(rec_data);\r\n        setData(Object.values(arrData)); // convert dictionary to array and store in data state\r\n        sessionStorage.setItem('pokemons', JSON.stringify(arrData));\r\n      })\r\n      .catch(error => console.error('Error fetching data:', error));\r\n    }\r\n    \r\n  }, []);\r\n\r\n  function handleAccountClick() {\r\n    if(!sessionStorage.getItem('access_token')) {\r\n      navigate('/login');\r\n    } else { \r\n      alert(\"You have been logged out successfully!\");\r\n      sessionStorage.removeItem('access_token');\r\n      navigate('/');\r\n    }\r\n  }\r\n  \r\n  console.log(data);\r\n  const pokemonEl = data?.map((pokemon, index) => {\r\n    return (\r\n      // <Link key={index} to={`/details/${pokemon.name}`}>\r\n        <PokemonCard pokemon={pokemon} index={index} >\r\n        </PokemonCard>\r\n      // </Link>\r\n    );\r\n  })\r\n\r\n    return (\r\n      <>\r\n      <div className=\"container\">\r\n        <Sidebar />\r\n        <SearchBar></SearchBar>\r\n        <img src={titleImg} alt='title' className='title-img'/>\r\n        <img src={accoutImg} alt='title' className='accout-img' onClick={handleAccountClick}/>\r\n\r\n         <div className='pokemon-poster-list'>\r\n              {pokemonEl}\r\n          </div>  \r\n      </div>\r\n      </>\r\n    \r\n    );\r\n  }\r\n  \r\n  export default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}